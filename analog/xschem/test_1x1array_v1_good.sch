v {xschem version=3.4.8RC file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 10 180 10 190 {lab=GND}
N 10 100 10 110 {lab=vphoto}
N 10 -10 10 20 {lab=VDD}
N 70 100 70 110 {lab=vphoto}
N 10 100 70 100 {lab=vphoto}
N 70 170 70 180 {lab=GND}
N 10 180 70 180 {lab=GND}
N 320 160 340 160 {lab=vph_sf}
N 320 260 340 260 {lab=vref}
N 400 260 420 260 {lab=vin}
N 420 160 420 260 {lab=vin}
N 400 160 420 160 {lab=vin}
N 10 80 10 100 {lab=vphoto}
N 10 170 10 180 {lab=GND}
N 10 50 40 50 {lab=GND}
N -150 50 -30 50 {lab=#net1}
N 230 -30 230 0 {lab=VDD}
N 230 30 260 30 {lab=GND}
N 230 230 230 250 {lab=GND}
N 230 200 260 200 {lab=GND}
N 230 160 320 160 {lab=vph_sf}
N 300 260 320 260 {lab=vref}
N 70 100 130 100 {lab=vphoto}
N 140 200 190 200 {lab=#net2}
N 230 60 230 140 {lab=vph_sf}
N 230 140 230 170 {lab=vph_sf}
N 420 160 440 160 {lab=vin}
N 480 160 510 160 {lab=GND}
N 480 -340 480 -210 {lab=sense}
N 480 -210 480 -120 {lab=sense}
N 420 -370 440 -370 {lab=#net3}
N 480 -370 510 -370 {lab=GND}
N 480 -440 480 -400 {lab=vout}
N 480 -480 480 -440 {lab=vout}
N 480 -440 630 -440 {lab=vout}
N 630 -440 630 -310 {lab=vout}
N 670 -280 690 -280 {lab=pix_rst}
N 600 -280 630 -280 {lab=GND}
N 630 -250 630 -210 {lab=feedback}
N 750 -280 820 -280 {lab=pix_rst}
N 550 200 550 220 {lab=lrst}
N 550 260 550 290 {lab=GND}
N 420 260 520 260 {lab=vin}
N 630 -210 630 10 {lab=feedback}
N 580 260 630 260 {lab=feedback}
N 550 170 550 200 {lab=lrst}
N 710 -80 710 10 {lab=pix_rst}
N 350 -80 510 -80 {lab=row_sel}
N 710 -280 710 -170 {lab=pix_rst}
N 480 -910 480 -880 {lab=VDD}
N 480 -850 510 -850 {lab=VDD}
N 390 -850 440 -850 {lab=#net4}
N 480 -630 510 -630 {lab=VDD}
N 480 -600 480 -560 {lab=vout}
N 480 -820 480 -770 {lab=pbchk}
N 220 -850 390 -850 {lab=#net4}
N 420 -630 440 -630 {lab=#net5}
N 810 -140 940 -140 {lab=#net6}
N 780 -100 780 -80 {lab=#net7}
N 780 -170 780 -140 {lab=GND}
N 710 -140 750 -140 {lab=feedback}
N 630 -140 710 -140 {lab=feedback}
N 780 -80 850 -80 {lab=#net7}
N -210 -630 -160 -630 {lab=#net8}
N 300 390 300 400 {lab=GND}
N 300 320 300 330 {lab=#net9}
N 130 30 190 30 {lab=vphoto}
N 130 30 130 100 {lab=vphoto}
N 630 100 630 260 {lab=feedback}
N 420 30 440 30 {lab=row_sel}
N 480 30 510 30 {lab=GND}
N 480 60 480 130 {lab=#net10}
N 480 -30 480 -0 {lab=sense}
N 680 110 680 130 {lab=row_sel}
N 680 170 680 200 {lab=GND}
N 550 170 650 170 {lab=lrst}
N 710 10 710 170 {lab=pix_rst}
N 510 -80 680 -80 {lab=row_sel}
N 680 -80 680 110 {lab=row_sel}
N 420 -80 420 30 {lab=row_sel}
N 420 -170 420 -150 {lab=GND}
N 420 -200 450 -200 {lab=GND}
N 330 -200 380 -200 {lab=#net11}
N 420 -270 420 -240 {lab=sense}
N 480 -120 480 -30 {lab=sense}
N 630 10 630 100 {lab=feedback}
N 80 -850 220 -850 {lab=#net4}
N -580 -820 -580 -730 {lab=#net4}
N -580 -910 -580 -880 {lab=VDD}
N -610 -850 -580 -850 {lab=VDD}
N -500 -850 -500 -790 {lab=#net4}
N -580 -790 -500 -790 {lab=#net4}
N 690 -280 750 -280 {lab=pix_rst}
N -540 -850 80 -850 {lab=#net4}
N 70 -800 70 -770 {lab=VDD}
N 70 -740 100 -740 {lab=VDD}
N -20 -740 30 -740 {lab=#net12}
N 70 -710 70 -660 {lab=#net5}
N -100 -800 -100 -770 {lab=VDD}
N -130 -740 -100 -740 {lab=VDD}
N -20 -740 -20 -680 {lab=#net12}
N -100 -680 -20 -680 {lab=#net12}
N -100 -710 -100 -680 {lab=#net12}
N -60 -740 -20 -740 {lab=#net12}
N -160 -630 -140 -630 {lab=#net8}
N -100 -630 -70 -630 {lab=GND}
N 110 -630 130 -630 {lab=pbchk}
N 40 -630 70 -630 {lab=GND}
N -100 -680 -100 -660 {lab=#net12}
N -100 -600 -100 -570 {lab=#net13}
N 70 -600 70 -570 {lab=#net13}
N -100 -570 70 -570 {lab=#net13}
N -10 -570 -10 -540 {lab=#net13}
N 70 -680 400 -680 {lab=#net5}
N 400 -680 400 -630 {lab=#net5}
N 400 -630 420 -630 {lab=#net5}
N 130 -630 300 -630 {lab=pbchk}
N 300 -770 300 -630 {lab=pbchk}
N 310 -770 480 -770 {lab=pbchk}
N 300 -770 310 -770 {lab=pbchk}
N 480 -770 480 -660 {lab=pbchk}
N 480 -560 480 -490 {lab=vout}
N 480 -490 480 -480 {lab=vout}
N 70 -330 70 -300 {lab=#net14}
N 40 -270 70 -270 {lab=VDD}
N 70 -240 70 -210 {lab=#net3}
N 110 -270 150 -270 {lab=sense}
N -10 -340 70 -340 {lab=#net14}
N 150 -270 480 -270 {lab=sense}
N 420 -240 420 -230 {lab=sense}
N -100 -330 -100 -300 {lab=#net14}
N -100 -270 -70 -270 {lab=VDD}
N -190 -270 -140 -270 {lab=#net15}
N -100 -240 -100 -190 {lab=#net16}
N -100 -340 -10 -340 {lab=#net14}
N -10 -360 -10 -340 {lab=#net14}
N 70 -340 70 -330 {lab=#net14}
N -100 -340 -100 -330 {lab=#net14}
N -60 -150 -40 -150 {lab=#net16}
N -130 -150 -100 -150 {lab=GND}
N -100 -120 -100 -100 {lab=GND}
N -40 -150 30 -150 {lab=#net16}
N 70 -150 100 -150 {lab=GND}
N -100 -190 -100 -180 {lab=#net16}
N 70 -120 70 -100 {lab=GND}
N -100 -100 70 -100 {lab=GND}
N -0 -100 -0 -80 {lab=GND}
N 70 -210 70 -180 {lab=#net3}
N -100 -200 -40 -200 {lab=#net16}
N -40 -200 -40 -150 {lab=#net16}
N 70 -220 300 -220 {lab=#net3}
N 300 -370 300 -220 {lab=#net3}
N 300 -370 420 -370 {lab=#net3}
N 630 -440 860 -440 {lab=vout}
N 1220 -440 1220 -180 {lab=#net6}
N 860 -440 910 -440 {lab=vout}
N 1140 -610 1140 -580 {lab=VDD}
N 1140 -550 1170 -550 {lab=VDD}
N 1050 -550 1100 -550 {lab=#net17}
N 1140 -520 1140 -470 {lab=#net18}
N 970 -610 970 -580 {lab=VDD}
N 940 -550 970 -550 {lab=VDD}
N 1050 -550 1050 -490 {lab=#net17}
N 970 -490 1050 -490 {lab=#net17}
N 970 -520 970 -490 {lab=#net17}
N 1010 -550 1050 -550 {lab=#net17}
N 910 -440 930 -440 {lab=vout}
N 970 -440 1000 -440 {lab=GND}
N 1180 -440 1200 -440 {lab=#net6}
N 1110 -440 1140 -440 {lab=GND}
N 970 -490 970 -470 {lab=#net17}
N 970 -410 970 -380 {lab=#net19}
N 1140 -410 1140 -380 {lab=#net19}
N 970 -380 1140 -380 {lab=#net19}
N 1060 -380 1060 -350 {lab=#net19}
N 1350 -480 1470 -480 {lab=vcomp}
N 1200 -440 1220 -440 {lab=#net6}
N 940 -140 1220 -140 {lab=#net6}
N 1220 -180 1220 -140 {lab=#net6}
N 1350 -400 1350 -380 {lab=GND}
N 1350 -430 1380 -430 {lab=GND}
N 1350 -600 1350 -570 {lab=VDD}
N 1350 -540 1380 -540 {lab=VDD}
N 1260 -540 1310 -540 {lab=#net18}
N 1350 -510 1350 -460 {lab=vcomp}
N 1260 -430 1310 -430 {lab=#net18}
N 1260 -540 1260 -440 {lab=#net18}
N 1260 -440 1260 -430 {lab=#net18}
N 1140 -500 1260 -500 {lab=#net18}
C {vdd.sym} 10 -10 0 0 {name=l1 lab=VDD}
C {gnd.sym} 10 190 0 0 {name=l2 lab=GND}
C {vsource.sym} -100 230 0 0 {name=vdd value=1.8 savecurrent=true}
C {vdd.sym} -100 200 0 0 {name=l3 lab=VDD}
C {gnd.sym} -100 260 0 0 {name=l4 lab=GND}
C {devices/code.sym} 820 110 0 0 {name=TT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib $::SKYWATER_MODELS/sky130.lib.spice tt
"
spice_ignore=false}
C {code_shown.sym} -770 -580 0 0 {name=NGSPICE
only_toplevel=true
value="
#.option reltol=1e-3 abstol=1e-12 vntol=1e-5 gmin=1e-10 
#.option trtol=6 chgtol=1e-12
.control
.param I_PH = 1e-9
.param N_BIAS = 1.5
.param SF_BIAS = 0.5
.param VCASN = 0.2
.param VCASP = 1.6
.param COL_BIAS = 5e-7
.param TAIL = 0.5

save v(vphoto) v(vph_sf) v(vin) v(sense) v(feedback) v(vcomp)
save v(pix_rst) v(vout) v(pbchk) v(vref) v(row_sel) v(lrst)
#ic v(vin)=0.6
#ic v(vout)=1
# dc vph 0 1.8 10m
tran .1n 29u
plot v(vphoto) v(vin) v(vref) v(vout) v(row_sel) v(pix_rst) v(vcomp)
save @m.xm1.msky130_fd_pr__nfet_01v8[gm]
save @m.xm1.msky130_fd_pr__nfet_01v8[id]
save @m.xm1.msky130_fd_pr__nfet_01v8[vth]
save @m.xm1.msky130_fd_pr__nfet_01v8[vdsat]
save @m.xm2.msky130_fd_pr__nfet_01v8[gm]
save @m.xm2.msky130_fd_pr__nfet_01v8[id]
save @m.xm2.msky130_fd_pr__nfet_01v8[vth]
save @m.xm2.msky130_fd_pr__nfet_01v8[vdsat]
save @m.xm3.msky130_fd_pr__nfet_01v8[gm]
save @m.xm3.msky130_fd_pr__nfet_01v8[id]
save @m.xm3.msky130_fd_pr__nfet_01v8[vth]
save @m.xm3.msky130_fd_pr__nfet_01v8[vdsat]
save @m.xm4.msky130_fd_pr__nfet_01v8[gm]
save @m.xm4.msky130_fd_pr__nfet_01v8[id]
save @m.xm5.msky130_fd_pr__nfet_01v8[gm]
save @m.xm5.msky130_fd_pr__nfet_01v8[id]
save @m.xm8.msky130_fd_pr__pfet_01v8[gm]
save @m.xm8.msky130_fd_pr__pfet_01v8[id]
save @m.xm9.msky130_fd_pr__pfet_01v8[gm]
save @m.xm9.msky130_fd_pr__pfet_01v8[id]
save @m.xm13.msky130_fd_pr__nfet_01v8[gm]
save @m.xm13.msky130_fd_pr__nfet_01v8[id]
save @m.xm14.msky130_fd_pr__pfet_01v8[gm]
save @m.xm14.msky130_fd_pr__pfet_01v8[id]
#op
write test_1x1array.raw
.endc
"}
C {devices/launcher.sym} 890 30 2 1 {name=h1
descr="Annotate OP" 
tclcommand="set show_hidden_texts 1; xschem annotate_op"
}
C {sky130_fd_pr/annotate_fet_params.sym} 10 240 0 0 {name=annot1 ref=M1}
C {sky130_fd_pr/cap_mim_m3_1.sym} 370 160 3 0 {name=CSAMPLE model=cap_mim_m3_1 W=1 L=1 MF=16 spiceprefix=X}
C {sky130_fd_pr/cap_mim_m3_1.sym} 370 260 3 0 {name=CREF model=cap_mim_m3_1 W=1 L=1 MF=2 spiceprefix=X}
C {capa.sym} 70 140 0 0 {name=C1
m=1
value=30f
footprint=1206
device="ceramic capacitor"}
C {gnd.sym} 40 50 0 0 {name=l6 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} -10 50 0 0 {name=M1
W=0.5
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {vsource.sym} -150 80 0 0 {name=vnb value=N_BIAS savecurrent=false}
C {gnd.sym} -150 110 0 0 {name=l5 lab=GND}
C {lab_pin.sym} 130 70 2 0 {name=p1 sig_type=std_logic lab=vphoto}
C {vdd.sym} 230 -30 0 0 {name=l7 lab=VDD}
C {gnd.sym} 230 250 0 0 {name=l10 lab=GND}
C {vsource.sym} 140 230 0 0 {name=vsf value=SF_BIAS savecurrent=false}
C {gnd.sym} 140 260 0 0 {name=l11 lab=GND}
C {lab_pin.sym} 230 110 2 0 {name=p2 sig_type=std_logic lab=vph_sf}
C {vsource.sym} 300 290 0 0 {name=vref_on value="pulse(0.5 0.6 2u 100n 100n 0.7u 3u)" savecurrent=false}
C {gnd.sym} 300 400 0 0 {name=l12 lab=GND}
C {lab_pin.sym} 420 210 2 0 {name=p3 sig_type=std_logic lab=vin}
C {isource.sym} 10 140 0 0 {name=Iphoto value="pulse(1e-9 1e-8 10u 1n 1n 12u 24u)"}
C {sky130_fd_pr/annotate_fet_params.sym} 10 360 0 0 {name=annot2 ref=M2}
C {sky130_fd_pr/annotate_fet_params.sym} 120 360 0 0 {name=annot3 ref=M3}
C {sky130_fd_pr/nfet_01v8.sym} 460 160 0 0 {name=M4
W=2
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 510 160 0 0 {name=l13 lab=GND}
C {gnd.sym} 480 190 0 0 {name=l14 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 460 -370 0 0 {name=M5
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 510 -370 0 0 {name=l15 lab=GND}
C {vsource.sym} -190 -240 0 0 {name=vcasn value=VCASN savecurrent=false}
C {gnd.sym} -190 -210 0 0 {name=l18 lab=GND}
C {lab_pin.sym} 480 -240 2 0 {name=p4 sig_type=std_logic lab=sense}
C {sky130_fd_pr/nfet_01v8.sym} 650 -280 2 0 {name=M6
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 600 -280 2 0 {name=l19 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 550 240 1 0 {name=M7
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 550 290 1 0 {name=l20 lab=GND}
C {vsource.sym} 820 -250 0 0 {name=vrst value="pulse(1.8 0 1.7u 100n 100n 2.3u 3u)" savecurrent=false}
C {gnd.sym} 820 -220 0 0 {name=l21 lab=GND}
C {lab_pin.sym} 630 -200 2 0 {name=p5 sig_type=std_logic lab=feedback}
C {lab_pin.sym} 710 -40 2 0 {name=p6 sig_type=std_logic lab=pix_rst}
C {lab_pin.sym} 630 -400 2 0 {name=p7 sig_type=std_logic lab=vout}
C {vdd.sym} 480 -910 0 0 {name=l22 lab=VDD}
C {isource.sym} -580 -700 0 0 {name=Ipb value=COL_BIAS}
C {gnd.sym} -580 -670 0 0 {name=l23 lab=GND}
C {sky130_fd_pr/pfet_01v8.sym} 460 -850 0 0 {name=M8
W=3
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 510 -850 1 0 {name=l24 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 460 -630 0 0 {name=M9
W=3
L=0.15
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 510 -630 1 0 {name=l16 lab=VDD}
C {vsource.sym} -210 -600 0 0 {name=vcasp value=VCASP savecurrent=false}
C {gnd.sym} -210 -570 0 0 {name=l26 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 780 -120 3 0 {name=M10
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 780 -170 3 0 {name=l27 lab=GND}
C {vsource.sym} 850 -50 0 0 {name=vrstb value="pulse(0 1.8 1.7u 100n 100n 2.3u 3u)" savecurrent=false}
C {gnd.sym} 850 -20 0 0 {name=l28 lab=GND}
C {vsource.sym} 940 -110 0 0 {name=vrst_dc value=0.6 savecurrent=false}
C {gnd.sym} 940 -80 0 0 {name=l29 lab=GND}
C {lab_pin.sym} 480 -800 2 0 {name=p8 sig_type=std_logic lab=pbchk}
C {vsource.sym} 300 360 0 0 {name=vref_off value="pulse(0.5 0.4 3u 100n 100n 0.7u 3u)" savecurrent=false}
C {lab_pin.sym} 330 260 1 0 {name=p9 sig_type=std_logic lab=vref}
C {sky130_fd_pr/nfet_01v8.sym} 210 200 0 0 {name=M2
W=0.5
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 210 30 0 0 {name=M3
W=0.5
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 260 30 0 0 {name=l8 lab=GND}
C {gnd.sym} 260 200 0 0 {name=l9 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 460 30 0 0 {name=M11
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 510 30 0 0 {name=l30 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 680 150 1 0 {name=M12
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 680 200 1 0 {name=l31 lab=GND}
C {vsource.sym} 350 -50 0 0 {name=vrowsel value="pulse(1.8 0 1.8u 100n 100n 3u 6u)" savecurrent=false}
C {gnd.sym} 350 -20 0 0 {name=l32 lab=GND}
C {lab_pin.sym} 570 -80 3 0 {name=p10 sig_type=std_logic lab=row_sel}
C {lab_pin.sym} 590 170 3 0 {name=p11 sig_type=std_logic lab=lrst}
C {gnd.sym} 420 -150 0 0 {name=l33 lab=GND}
C {vsource.sym} 330 -170 0 0 {name=vtail value=TAIL savecurrent=false}
C {gnd.sym} 330 -140 0 0 {name=l34 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 400 -200 0 0 {name=M13
W=0.5
L=0.3
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 450 -200 0 0 {name=l35 lab=GND}
C {sky130_fd_pr/pfet_01v8.sym} -560 -850 0 1 {name=M14
W=3
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} -580 -910 0 0 {name=l36 lab=VDD}
C {vdd.sym} -610 -850 3 0 {name=l37 lab=VDD}
C {lab_pin.sym} 710 -220 2 0 {name=p12 sig_type=std_logic lab=pix_rst}
C {vdd.sym} 70 -800 0 0 {name=l17 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 50 -740 0 0 {name=M15
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 100 -740 1 0 {name=l25 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} -80 -740 0 1 {name=M16
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} -100 -800 0 0 {name=l38 lab=VDD}
C {vdd.sym} -130 -740 3 0 {name=l39 lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} -120 -630 0 0 {name=M17
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} -70 -630 0 0 {name=l40 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 90 -630 0 1 {name=M18
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 40 -630 0 1 {name=l41 lab=GND}
C {isource.sym} -10 -510 0 0 {name=Ipb_casc value=50n}
C {gnd.sym} -10 -480 0 0 {name=l42 lab=GND}
C {sky130_fd_pr/pfet_01v8.sym} 90 -270 0 1 {name=M19
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} -10 -420 0 0 {name=l43 lab=VDD}
C {vdd.sym} 40 -270 3 0 {name=l44 lab=VDD}
C {isource.sym} -10 -390 0 0 {name=Inb_casc value=50n}
C {sky130_fd_pr/pfet_01v8.sym} -120 -270 0 0 {name=M20
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} -70 -270 1 0 {name=l46 lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} -80 -150 0 1 {name=M21
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} -130 -150 0 1 {name=l45 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 50 -150 0 0 {name=M22
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 100 -150 0 0 {name=l47 lab=GND}
C {gnd.sym} 0 -80 0 0 {name=l48 lab=GND}
C {lab_pin.sym} 1470 -480 2 0 {name=p13 sig_type=std_logic lab=vcomp}
C {vdd.sym} 1140 -610 0 0 {name=l49 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 1120 -550 0 0 {name=M23
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 1170 -550 1 0 {name=l50 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 990 -550 0 1 {name=M24
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 970 -610 0 0 {name=l51 lab=VDD}
C {vdd.sym} 940 -550 3 0 {name=l52 lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} 950 -440 0 0 {name=M25
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 1000 -440 0 0 {name=l53 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 1160 -440 0 1 {name=M26
W=1
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 1110 -440 0 1 {name=l54 lab=GND}
C {isource.sym} 1060 -320 0 0 {name=Ipb_casc1 value=50n}
C {gnd.sym} 1060 -290 0 0 {name=l55 lab=GND}
C {gnd.sym} 1350 -380 0 0 {name=l56 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 1330 -430 0 0 {name=M27
W=0.5
L=0.15
nf=1 
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {gnd.sym} 1380 -430 0 0 {name=l57 lab=GND}
C {vdd.sym} 1350 -600 0 0 {name=l58 lab=VDD}
C {sky130_fd_pr/pfet_01v8.sym} 1330 -540 0 0 {name=M28
W=1
L=0.5
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8
spiceprefix=X
}
C {vdd.sym} 1380 -540 1 0 {name=l59 lab=VDD}
